{"version":3,"sources":["Components/Searchbar/Searchbar.module.scss","Components/ImageGalleryItem/ImageGalleryItem.module.scss","Components/Modal/Modal.module.scss","Components/ImageGallery/ImageGallery.module.scss","Components/Button/Button.module.scss","Components/Loader/Loader.module.scss","Components/Searchbar/Searchbar.jsx","Components/ImageGallery/ImageGallery.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/Modal/Modal.jsx","api/images.js","api/constants.js","App.js","index.js"],"names":["module","exports","Searchbar","state","value","onChange","e","setState","target","handleSearchSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","img","showImage","onClick","src","webformatURL","alt","tags","ImageGalleryItem__image","Button","App","Loader","color","height","width","React","modalRoot","document","querySelector","Modal","handleKeyDown","code","currentTarget","onClose","window","addEventListener","removeEventListener","image","createPortal","Overlay","axios","defaults","baseURL","getImages","query","page","a","params","get","data","images","isLoading","error","showModal","bigImg","maxPage","handleSubmit","toggleModal","handleButton","prevState","largeImageURL","hits","allPages","Math","ceil","total","length","isNaN","map","setImages","prevProps","loadMore","shortid","generate","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b82087c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1_6W4\",\"SearchForm\":\"Searchbar_SearchForm__2IWo6\",\"SearchForm__button\":\"Searchbar_SearchForm__button__jJi-C\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__3__Zf\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1O_5L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__Ahg3w\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3qLE5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__CK2nX\",\"Modal\":\"Modal_Modal__2Q2gT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3RA_x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3_f8k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__37WZJ\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.scss';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSearchSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSearchSubmit}>\r\n            <button type=\"submit\" className={s.SearchForm__button}>\r\n              <span className={s.SearchForm__buttonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              value={this.state.value}\r\n              onChange={this.onChange}\r\n              className={s.SearchForm__input}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport s from './ImageGallery.module.scss';\r\n\r\nexport default function ImageGallery({ children }) {\r\n  return <ul className={s.ImageGallery}>{children}</ul>;\r\n}\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({ img, showImage }) {\r\n  return (\r\n    <li onClick={() => showImage(img)} className={s.ImageGalleryItem}>\r\n      <img\r\n        src={img.webformatURL}\r\n        alt={img.tags}\r\n        className={s.ImageGalleryItem__image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  showImage: PropTypes.func,\r\n  img: PropTypes.shape({\r\n    webformatURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n  }),\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.scss';\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={s.Button} onClick={onClick} type=\"button\">\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Loader.module.scss';\r\n\r\n// import PropTypes from 'prop-types';\r\n\r\nexport default class App extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={s.Loader}\r\n        type=\"Hearts\"\r\n        color=\"#3f51b5\"\r\n        height={80}\r\n        width={80}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.scss';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape' || e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { image } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleKeyDown}>\r\n        <div className={s.Modal}>\r\n          <img src={image.src} alt={image.alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  images: PropTypes.shape({\r\n    alt: PropTypes.string,\r\n    src: PropTypes.string,\r\n  }),\r\n};\r\n","import { BASE_URL, API_KEY, per_page } from './constants';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nexport const getImages = async (query, page) => {\r\n  const params = `?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`;\r\n  const { data } = await axios.get(params);\r\n\r\n  return data;\r\n};\r\n","const BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '23491087-4191226b82b28486631b9987a';\r\nconst per_page = 12;\r\n\r\nexport { BASE_URL, API_KEY, per_page };\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport shortid from 'shortid';\nimport Searchbar from './Components/Searchbar/Searchbar.jsx';\nimport ImageGallery from './Components/ImageGallery/ImageGallery.jsx';\nimport ImageGalleryItem from './Components/ImageGalleryItem/ImageGalleryItem.jsx';\nimport Button from './Components/Button/Button.jsx';\nimport Loader from './Components/Loader/Loader.jsx';\nimport Modal from './Components/Modal/Modal.jsx';\nimport { getImages } from 'api/images';\n\nexport default class App extends Component {\n  state = {\n    page: 1,\n    query: '',\n    images: [],\n    isLoading: false,\n    error: null,\n    showModal: false,\n    bigImg: {},\n    maxPage: 1,\n  };\n\n  handleSubmit = value => {\n    this.setState({ query: value });\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  handleButton = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n    this.setState({ isLoading: true });\n  };\n\n  showImage = img => {\n    this.toggleModal();\n    this.setState({\n      bigImg: {\n        src: img.largeImageURL,\n        alt: img.tags,\n      },\n    });\n  };\n\n  async setImages() {\n    try {\n      const { page, query } = this.state;\n      const data = await getImages(query, page);\n      const images = data.hits;\n      const allPages = Math.ceil(data.total / images.length);\n      if (!isNaN(allPages)) {\n        this.setState({ maxPage: allPages });\n      } else {\n        this.setState({ maxPage: 0 });\n      }\n      this.setState({ images });\n    } catch (error) {\n      this.setState({ error });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  async loadMore() {\n    try {\n      const { page, query } = this.state;\n      const data = await getImages(query, page);\n      const images = data.hits;\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images.map(img => img)],\n      }));\n    } catch (error) {\n      this.setState({ error });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  async componentDidMount() {\n    this.setState({ isLoading: true });\n    this.setImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.query !== prevState.query) {\n      this.setImages();\n    }\n    if (this.state.page !== prevState.page) {\n      this.loadMore();\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {this.state.images.length > 0 && (\n          <ImageGallery showImage={this.showImage}>\n            {this.state.images.map(img => {\n              return (\n                <ImageGalleryItem\n                  key={shortid.generate()}\n                  img={img}\n                  showImage={this.showImage}\n                />\n              );\n            })}\n            {this.state.showModal && (\n              <Modal onClose={this.toggleModal} image={this.state.bigImg} />\n            )}\n          </ImageGallery>\n        )}\n\n        {this.state.isLoading && <Loader />}\n\n        {this.state.maxPage > this.state.page &&\n          this.state.images.length > 0 && (\n            <Button onClick={this.handleButton} />\n          )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}